# guardian_config.yaml
# DeFi Risk Guardian — Configuration Template
# Copy this file, fill in your settings, and pass it via --config

guardian:
  # ── Polling ────────────────────────────────────────────────────────────────
  poll_interval_seconds: 60          # How often to fetch on-chain state (min: 30)

  # ── Risk Thresholds ────────────────────────────────────────────────────────
  alert_threshold_health_factor: 1.4  # Alert user when any position HF drops below this
  action_threshold_health_factor: 1.2 # Autonomously act when HF drops below this

  # ── Action Limits ──────────────────────────────────────────────────────────
  max_gas_per_action_gwei: 50         # Never spend more than this on gas per protective tx
  collateral_top_up_pct: 20           # When adding collateral: add this % of current collateral
  emergency_full_exit: false          # Full exit when risk_score >= 90 (use with caution)

  # ── Notifications ──────────────────────────────────────────────────────────
  notification_channel: telegram      # Options: console | telegram | webhook
  webhook_url: ""                     # Required if channel is 'webhook'
  # TELEGRAM_BOT_TOKEN and TELEGRAM_CHAT_ID must be set as env vars

  # ── Autonomy ───────────────────────────────────────────────────────────────
  autonomous_mode: true               # Set false for alert-only (no autonomous transactions)

  # ── Wallet & Protocols ─────────────────────────────────────────────────────
  wallet: "0xYOUR_WALLET_ADDRESS_HERE"
  protocols:
    - nostra
    - zklend
    - ekubo
    - strk-staking
    # - vesu      (coming soon)
    # - opus      (coming soon)
